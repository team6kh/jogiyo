<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
	<package name="team6-struts" extends="struts-default">

		<!-- SqlMapClient 인터셉터... -->
		<interceptors>
			<interceptor name="conDAO" class="common.ConDAOInterceptor" />
		</interceptors>

		<!-- NEW 비밀번호 체크 액션. -->
		<action name="checkPass" class="common.CheckPasswordAction">
			<interceptor-ref name="params" />
			<interceptor-ref name="conDAO" />
			<result name="error">/common/error.jsp</result>
			<result name="success" type="chain">${modalParam}</result>
		</action>

		<!-- 로그인 액션. -->
		<action name="loginForm" class="common.login.action.LoginAction"
			method="loginForm">
			<result>/common/login/loginForm.jsp</result>
		</action>

		<action name="login" class="common.login.action.LoginAction">
			<interceptor-ref name="params" />
			<interceptor-ref name="conDAO" />
			<interceptor-ref name="servletConfig" />
			<result name="error">/common/error.jsp</result>
			<result name="success" type="redirect-action">${actionName}</result>
		</action>

		<!-- 로그아웃 액션. -->
		<action name="logout" class="common.logout.action.LogoutAction">
			<interceptor-ref name="servletConfig" />
			<result name="success" type="redirect-action">home</result>
		</action>

		<!-- 홈 액션. -->
		<action name="home" class="board.home.action.HomeAction">
			<result>/index.jsp</result>
		</action>



		<!-- RestBoard 액션 -->

		<!-- 리스트에서 글쓰기 클릭시 -->
		<action name="insertRestForm" class="board.rest.action.InsertRestAction"
			method="form">
			<result>/board/rest/insertRest.jsp</result>
		</action>

		<!-- 글쓰기에서 submit 클릭시 -->
		<action name="insertRest" class="board.rest.action.InsertRestAction">
			<interceptor-ref name="conDAO" />
			<interceptor-ref name="fileUpload" />
			<interceptor-ref name="params" />
			<result type="redirect-action">
				<param name="actionName">listRest</param>
			</result>
		</action>

		<!-- 리스트 액션 -->
		<action name="listRest" class="board.rest.action.ListRestAction">
			<interceptor-ref name="params" />
			<interceptor-ref name="conDAO" />
			<result>/board/rest/listRest.jsp</result>
		</action>

		<!-- 수정 액션 -->
		<action name="updateRest" class="board.rest.action.UpdateRestAction">
			<interceptor-ref name="params" />
			<interceptor-ref name="conDAO" />
			<result>/board/rest/updateRest.jsp</result>
		</action>

		<!-- RestBoard 끝 -->




		<!-- 레시피 -->
		<!-- insertRecipeForm 액션 -->
		<action name="insertRecipeForm" class="board.recipe.action.InsertRecipeAction"
			method="form">
			<interceptor-ref name="servletConfig" />
			<interceptor-ref name="params" />
			<result>/board/recipe/insertRecipe.jsp</result>
		</action>

		<!-- insertRecipe 액션 -->
		<action name="insertRecipe" class="board.recipe.action.InsertRecipeAction">
			<interceptor-ref name="prepare" />
			<interceptor-ref name="modelDriven" />
			<interceptor-ref name="params" />
			<interceptor-ref name="conDAO" />
			<result type="redirect-action">
				<param name="actionName">listRecipe</param>
			</result>
		</action>

		<!-- recipe 리스트 액션 -->
		<action name="listRecipe" class="board.recipe.action.ListRecipeAction">
			<interceptor-ref name="params" />
			<interceptor-ref name="conDAO" />
			<result>/board/recipe/listRecipe.jsp</result>
		</action>

		<!-- recipe read 액션 -->
		<action name="readRecipe" class="board.recipe.action.ReadRecipeAction">
			<interceptor-ref name="chain" />
			<interceptor-ref name="params" />
			<interceptor-ref name="conDAO" />
			<result>/board/recipe/readRecipe.jsp</result>
		</action>

		<!-- recipe delete 액션. -->
		<action name="deleteRecipe" class="board.recipe.action.DeleteRecipeAction">
			<interceptor-ref name="params" />
			<interceptor-ref name="conDAO" />
			<result type="chain">listRecipe</result>
		</action>

		<!-- recipe update 액션. -->
		<action name="updateRecipeForm" class="board.recipe.action.UpdateRecipeAction"
			method="updateRecipeForm">
			<interceptor-ref name="params" />
			<interceptor-ref name="conDAO" />
			<result type="chain">insertRecipeForm</result>
		</action>

		<action name="updateRecipe" class="board.recipe.action.UpdateRecipeAction">
			<interceptor-ref name="prepare" />
			<interceptor-ref name="modelDriven" />
			<interceptor-ref name="params" />
			<interceptor-ref name="conDAO" />

			<result type="chain">readRecipe</result>
		</action>

		<!-- 파일 다운로드 액션. -->
		<action name="fileDownloadAction" class="board.recipe.action.ReadRecipeAction"
			method="download">
			<result name="success" type="stream">
				<param name="contentType">binary/octet-stream</param>
				<param name="inputName">inputStream</param>
				<param name="contentDisposition">${contentDisposition}</param>
				<param name="contentLength">${contentLength}</param>
				<param name="bufferSize">4096</param>
			</result>
		</action>

		<!-- 비밀번호 체크 액션. -->
		<action name="checkForm" class="board.recipe.action.ReadRecipeAction"
			method="checkForm">
			<result>/board/recipe/checkPassword.jsp</result>
		</action>

		<action name="checkAction" class="board.recipe.action.ReadRecipeAction"
			method="checkAction">
			<interceptor-ref name="params" />
			<interceptor-ref name="conDAO" />
			<result name="error">/board/recipe/checkError.jsp</result>
			<result>/board/recipe/checkSuccess.jsp</result>
		</action>

		<!-- recommand 액션 -->
		<action name="recommand" class="board.recipe.action.ReadRecipeAction"
			method="recommandAction">
			<interceptor-ref name="params" />
			<interceptor-ref name="conDAO" />
			<result>/board/recipe/readRecipe.jsp</result>

		</action>
		<!-- recipe_mylsit 액션 -->
		<action name="recipe_mylsit" class="board.recipe.action.MyListRecipeAction">
			<interceptor-ref name="params" />
			<interceptor-ref name="conDAO" />
			<result>/board/recipe/myListRecipe.jsp</result>
		</action>


		<!-- 레시피 끝 -->



		<!-- 테스트 -->
		<action name="testAction" class="test.action.TestAction">
			<result>/test/test.jsp</result>
		</action>

		<!-- 테스트 게시판 리스트 액션. -->
		<action name="listTest" class="board.test.action.ListTestAction">
			<interceptor-ref name="params" />
			<interceptor-ref name="conDAO" />
			<result>/board/test/listTest.jsp</result>
		</action>

		<!-- 테스트 게시판 쓰기 액션. -->
		<action name="insertTestForm" class="board.test.action.InsertTestAction"
			method="insertForm">
			<interceptor-ref name="servletConfig" />
			<interceptor-ref name="params" />
			<result>/board/test/insertTest.jsp</result>
		</action>

		<action name="insertTest" class="board.test.action.InsertTestAction">
			<interceptor-ref name="prepare" />
			<interceptor-ref name="modelDriven" />
			<interceptor-ref name="params" />
			<interceptor-ref name="conDAO" />
			<result type="redirect-action">
				<param name="actionName">listTest</param>
			</result>
		</action>

		<!-- 테스트 게시판 읽기 액션. -->
		<action name="readTest" class="board.test.action.ReadTestAction">
			<interceptor-ref name="params" />
			<interceptor-ref name="conDAO" />
			<result>/board/test/readTest.jsp</result>
		</action>

		<!-- 테스트 게시판 수정 액션. -->
		<action name="updateTestForm" class="board.test.action.ReadTestAction">
			<interceptor-ref name="params" />
			<interceptor-ref name="conDAO" />
			<result type="chain">insertTestForm</result>
		</action>

		<action name="updateTest" class="board.test.action.UpdateTestAction">
			<interceptor-ref name="params" />
			<interceptor-ref name="conDAO" />
			<result type="chain">readTest</result>
		</action>

		<!--테스트 게시판 삭제 액션. -->
		<action name="deleteTest" class="board.test.action.DeleteTestAction">
			<interceptor-ref name="params" />
			<interceptor-ref name="conDAO" />
			<result type="chain">listTest</result>
		</action>

	</package>
</struts>

