<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>	
	<package name="struts_review" extends="struts-default">

		<!-- SqlMapClient 인터셉터 -->
		<interceptors>
			<interceptor name="conDAO" class="common.ConDAOInterceptor"/>
		</interceptors>
		
		<!-- Review게시판 시작 -->
		
		<!-- 리뷰 글쓰기 폼 -->
		<action name="insertReviewForm" class="board.review.action.InsertReviewAction"
			method="form">
			<interceptor-ref name="chain" />
			<result>/board/review/listReview.jsp</result>
		</action>

		<!-- 리뷰 글쓰기 등록 -->
		<action name="insertReviewPro" class="board.review.action.InsertReviewAction">
			<interceptor-ref name="conDAO" />
			<interceptor-ref name="prepare" />
			<interceptor-ref name="modelDriven" />
			<interceptor-ref name="fileUpload" />
			<interceptor-ref name="params" />
			<result type="redirect-action">
				<param name="actionName">listReview</param>
			</result>
		</action>

		<!-- 리뷰 글목록 보기 -->
		<action name="listReview" class="board.review.action.ListReviewAction">
			<interceptor-ref name="conDAO" />
			<interceptor-ref name="chain" />
			<interceptor-ref name="params" />
			<result type="chain">
				<param name="actionName">insertReviewForm</param>
			</result>
		</action>

		<!-- 리뷰 글 수정 폼 -->
		<action name="updateReviewForm" class="board.review.action.UpdateReviewAction"
			method="form">
			<interceptor-ref name="conDAO" />
			<interceptor-ref name="params" />
			<result>/board/review/updateReview.jsp</result>
		</action>

		<!-- 리뷰 글 수정 처리 -->
		<action name="updateReviewPro" class="board.review.action.UpdateReviewAction">
			<interceptor-ref name="conDAO" />
			<interceptor-ref name="prepare" />
			<interceptor-ref name="modelDriven" />
			<interceptor-ref name="fileUpload" />
			<interceptor-ref name="params" />
			<result type="chain">
				<param name="actionName">listReview</param>
			</result>
		</action>
		
		<!--  리뷰글 삭제 폼 -->
		<action name="deleteReviewForm" class="board.review.action.DeleteReviewAction" method="form">
		<interceptor-ref name="params"/>
		<result>/board/review/deleteReview.jsp</result>
		</action>

		<!-- 리뷰 글 삭제 처리 -->
		<action name="deleteReviewPro" class="board.review.action.DeleteReviewAction">
			<interceptor-ref name="conDAO" />
			<interceptor-ref name="params" />
			<result type="chain">
				<param name="actionName">listReview</param>
			</result>
		</action>
		
		<!-- Review게시판 끝 -->

	</package>
</struts>